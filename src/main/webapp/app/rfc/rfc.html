<div data-ng-show="visible">


    <!-- Listado -->
    <div class="row">

        <div class="col-md-12">

            <div class="row">

                <div class="rfc-epigrafe text-info col-md-12">
                    <span>1. Datos de la solicitud</span>
                </div>

                <div class="col-md-12">
                    <table class="table table-bordered">
                        <tr>
                            <th class="text-info">
                                <span class="glyphicon glyphicon-list"></span>
                                <span>Solicitud</span>
                            </th>
                            <th>
                                <span class="text-info">{{rfc.issuekey}} - {{rfc.summary}}</span>
                            </th>
                        </tr>
                        <tr>
                            <th class="text-info">
                                <span></span>
                                <span>Estado</span>
                            </th>
                            <td>
                                <span class="label label-success">{{rfc.status.name}}</span>
                            </td>
                        </tr>
                        <tr>
                            <th class="text-info">
                                <span></span>
                                <span>Tipo</span>
                            </th>
                            <td>
                                <span class="label label-default">{{rfc.type.name}}</span>
                            </td>
                        </tr>
                        <tr>
                            <th colspan="2" class="text-info">
                                <span class="glyphicon glyphicon-user"></span>
                                <span>Equipo</span>
                            </th>
                        </tr>
                        <tr>
                            <th class="text-info">Desarrollo</th>
                            <td>
                                <div data-ng-repeat="e in rfc.equipodesarrollo">
                                    {{e.user.displayName}} (<a href="mailto:{{e.user.emailAddress}}">{{e.user.emailAddress}}</a>)
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th class="text-info">Calidad</th>
                            <td>
                                <div data-ng-repeat="e in rfc.equipocalidad">
                                    {{e.user.displayName}} (<a href="mailto:{{e.user.emailAddress}}">{{e.user.emailAddress}}</a>)
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th colspan="2" class="text-info">
                                <span class="glyphicon glyphicon-book"></span>
                                <span>Planificación</span>
                            </th>
                        </tr>
                        <tr>
                            <th class="text-info">Desarrollo</th>
                            <td>{{moment(rfc.fInicioDesarrollo).format('dd, DD MMM YYYY')}} a {{moment(rfc.fFinDesarrollo).format('dd, DD MMM YYYY')}}</td>
                        </tr>
                        <tr>
                            <th class="text-info">Calidad</th>
                            <td>{{moment(rfc.fInicioCalidad).format('dd, DD MMM YYYY')}} a {{moment(rfc.fFinCalidad).format('dd, DD MMM YYYY')}}</td>
                        </tr>
                        <tr>
                            <th class="text-info">Implantación</th>
                            <td colspan="2">{{moment(rfc.fPasoProd).format('dd, DD MMM YYYY')}}</td>
                        </tr>
                    </table>

                </div>
            </div>


            <div class="row">
                <div class="rfc-epigrafe text-info col-md-12">
                    <span>2. Descripción</span>
                </div>
                <div class="col-md-12">
                    <div class="well" data-ng-bind-html="rfc.description"></div>
                </div>
            </div>

            <div class="row">
                <div class="rfc-epigrafe text-info col-md-12">
                    <span>3. Proyectos afectados</span>
                </div>
                <div class="col-md-12">
                    <table class="table">
                        <tr class="text-info">
                            <th>Proyecto</th>
                            <th>Componente</th>
                            <th>Issue</th>
                            <th>Versión</th>
                            <th>Estado</th>
                        </tr>

                        <tr data-ng-repeat="o in rfc.issuelinks">
                            <td>{{o.issue.project.name}}</a></td>
                            <td><div data-ng-repeat="c in o.issue.components" class="label label-default">{{c.component.name}}</div></a></td>
                            <td style="width: 40%;"><a href="/#/issues/{{o.issue.issuekey}}" target="_blank">{{o.issue.issuekey}} - {{o.issue.summary}}</a></td>
                            <td>
                                <div data-ng-repeat="v in o.issue.versions" class="label label-warning">{{v.version.name}}</div>
                            </td>
                            <td class="col-md-2"><span class="label label-success">{{o.issue.status.name}}</span></td>
                        </tr>
                    </table>

                </div>
            </div>

            <div class="row">
                <div class="rfc-epigrafe text-info col-md-12">
                    <span>4. Solución</span>
                </div>
                <div class="col-md-12">
                    <table data-ng-if="rfc.solucion != null || rfc.docfuncional != null"
                           class="table table-bordered">
                        <tr data-ng-if="rfc.solucion != null">
                            <th width="30%">Descripción</th>
                            <td  data-ng-bind-html="rfc.solucion" class="col-md-12">
                            </td>
                        </tr>
                        <tr data-ng-if="rfc.docfuncional != null">
                            <th>Documentación funcional y técnica</th>
                            <td  class="col-md-12">
                                <a href="{{rfc.docfuncional}}" target="_blank">Acuerdo funcional y técnico</a>
                            </td>
                        </tr>
                    </table>
                </div>

            </div>

            <div class="row">
                <div class="rfc-epigrafe text-info col-md-12">
                    <span>5. Informe de calidad</span>
                </div>

                <div class="col-md-12">
                    <table class="table table-bordered">

                        <tr>
                            <th>Planes de pruebas</th>
                            <td  class="col-md-12">
                                <a href="{{rfc.planpruebas}}" target="_blank">{{rfc.planpruebas}}</a>
                            </td>
                        </tr>

                        <tr>
                            <th width="20%">Riesgos</th>
                            <td  class="col-md-12">
                                <div class="alert alert-warning">
                                    <div data-ng-repeat="r in rfc.riesgos">
                                        <span class="glyphicon glyphicon-ok"></span>
                                        <span>{{r.name}}</span>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr data-ng-if="rfc.observaciones != null">
                            <th width="20%">Observaciones</th>
                            <td  class="col-md-12">
                                <div class="alert alert-warning">
                                    <span data-ng-bind-html="rfc.observaciones"></span>
                                </div>
                            </td>
                        </tr>

                    </table>
                </div>


            </div>

            <div class="row">
                <div class="rfc-epigrafe text-info col-md-12">
                    <span>6. Implantación</span>
                </div>

                <div class="col-md-12">
                    <table class="table table-bordered">

                        <tr>
                            <th>Plan de paso a producción</th>
                            <td  class="col-md-12">
                                <div data-ng-bind-html="rfc.planpasoprod" class="alert alert-success"></div>
                            </td>
                        </tr>

                        <tr>
                            <th width="20%">Plan de marcha atrás</th>
                            <td  class="col-md-12">
                                <div data-ng-bind-html="rfc.planmarchaatras" class="alert alert-danger"></div>
                            </td>
                        </tr>

                    </table>
                </div>


            </div>

        </div>
    </div>
</div>



