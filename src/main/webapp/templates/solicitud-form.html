<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="layout :: head"></head>
    <body>

        <div th:replace="layout :: header"></div>

        <div class="container main-content">

            <!-- Titulo y botonera -->
            <div class="row page-panel-titulo">
                <!-- Titulo -->
                <h3 class="page-titulo col-md-8">
                    <span class="glyphicon glyphicon-list-alt"></span><span th:text="${solicitud.id==null?'Nueva solicitud':'Modificar solicitud'}"></span> 
                </h3>

                <!-- Botonera -->    
                <div class="pull-right">
                    <div class="btn-group" role="group">
                        <a type="button" href="/solicitudes" class="btn btn-default"><span class="glyphicon glyphicon-chevron-left"></span> Volver</a>
                        <a id="save" type="button" class="btn btn-primary"><span class="glyphicon glyphicon-floppy-disk"></span> Guardar los cambios</a>
                    </div>	
                </div>
            </div>	

            <form class="row" action="/solicitudes" th:object="${solicitud}" method="POST">

                <input type="hidden"
                       name="id"
                       th:value="*{id}"/>

                <div class="form-group">
                    <label>Título*</label>
                    <input th:field="*{titulo}" type="text" autofocus="autofocus"
                           class="form-control" placeholder="Título de la solicitud"/>
                </div>

                <div class="form-group">
                    <label>Solicitante*</label> 
                    <input th:field="*{solicitante}"
                           type="text" class="form-control"
                           placeholder="Nombre del solicitante" />
                </div>

                <div class="form-group">
                    <label>Email del solicitante*</label>
                    <input th:field="*{emailSolicitante}" type="email" 
                           class="form-control" placeholder="Email del solicitante" />
                </div>

                <div class="form-group">
                    <label>Tipo solicitud</label> 
                    <select class="form-control" th:field="*{tipoSolicitud}">
                        <option th:each="ts : ${tiposSolicitud}" th:value="${ts.id}" th:text="${ts.nombre}"></option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Descripción</label> 
                    <textarea id="descripcion" th:field="*{descripcion}"></textarea>
                </div>

                <input type="hidden"
                       th:name="${_csrf.parameterName}"
                       th:value="${_csrf.token}"/>
            </form>    

        </div>  

        <div id="msg-modal" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">X</span><span class="sr-only">Close</span>
                        </button>
                        <h4 id="msg-modal-title" class="modal-title"></h4>
                    </div>
                    <div id="msg-modal-body" class="modal-body">
                    </div>               
                </div>
            </div>
        </div>


        <div th:replace="layout :: libs"></div>

        <script src="/resources/app/solicitudes.js"></script>



    </body>
</html>